(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/payment/payment/payment"],{"30ac":function(e,t,n){"use strict";(function(e){n("15a3"),n("921b");a(n("66fd"));var t=a(n("8715"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"52d6":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,o,i,c){try{var u=e[i](c),r=u.value}catch(s){return void n(s)}u.done?t(r):Promise.resolve(r).then(a,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function u(e){c(i,a,o,u,r,"next",e)}function r(e){c(i,a,o,u,r,"throw",e)}u(void 0)})}}var r={data:function(){return{title:"request-payment",loading:!1,money:0,providerList:[],payType:0,code:"",iswx:!0}},onLoad:function(t){e.showLoading({title:"加载中..."}),console.log(a(t.context," at pages\\payment\\payment\\payment.vue:55")),this.code=t.context,this.money=this.getMoney(),e.hideLoading()},methods:{getMoney:function(){var t=this;this.code=t.code,e.request({url:"http://106.13.239.202/index.php?c=payment&m=getMoney",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:t.code},success:function(e){console.log(a(e," at pages\\payment\\payment\\payment.vue:73")),t.money=e.data.data.money},fail:function(){},complete:function(){}})},ali:function(){e.showToast({title:"支付宝方式暂未开放",icon:"none"})},wx:function(){this.iswx?this.iswx&&(this.iswx=!1):this.iswx=!0},requestPayment:function(){var t=u(o.default.mark(function t(){var n,i=this;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(a("ok2"," at pages\\payment\\payment\\payment.vue:102")),0!=this.price){t.next=4;break}return e.showToast({title:"数据错误",icon:"none"}),t.abrupt("return");case 4:return t.next=6,this.getOrderInfo();case 6:if(n=t.sent,console.log(a("ok1"," at pages\\payment\\payment\\payment.vue:111")),console.log(a("得到订单信息",n," at pages\\payment\\payment\\payment.vue:112")),200===n.statusCode){t.next=13;break}return console.log(a("获得订单信息失败",n," at pages\\payment\\payment\\payment.vue:114")),e.showModal({content:"获得订单信息失败",showCancel:!1}),t.abrupt("return");case 13:e.requestPayment({provider:"wxpay",orderInfo:n.data,success:function(t){console.log(a("success",t," at pages\\payment\\payment\\payment.vue:125"));var n="http://106.13.239.202:8080/nesoft";e.request({url:n,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{id:i.getid(),fees:i.money},success:function(e){console.log(a(e," at pages\\payment\\payment\\payment.vue:137"))}}),e.showToast({title:"支付成功!"})},fail:function(t){e.showModal({content:"支付失败",showCancel:!1})},complete:function(){i.providerList[index].loading=!1}});case 14:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),getOrderInfo:function(){var t=this,n="http://106.13.239.202/index.php?c=wxpay&m=index";return console.log(a(n," at pages\\payment\\payment\\payment.vue:161")),new Promise(function(a){e.request({url:n,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:t.code,id:t.getid()},success:function(e){a(e)},fail:function(e){a(e)}})})},priceChange:function(e){console.log(a(e.detail.value," at pages\\payment\\payment\\payment.vue:183")),this.price=e.detail.value}}};t.default=r}).call(this,n("6e42")["default"],n("0de9")["default"])},"6b7e":function(e,t,n){"use strict";n.r(t);var a=n("52d6"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},8715:function(e,t,n){"use strict";n.r(t);var a=n("fc88"),o=n("6b7e");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("a9ac");var c=n("2877"),u=Object(c["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=u.exports},a9ac:function(e,t,n){"use strict";var a=n("f421"),o=n.n(a);o.a},f421:function(e,t,n){},fc88:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})}},[["30ac","common/runtime","common/vendor"]]]);