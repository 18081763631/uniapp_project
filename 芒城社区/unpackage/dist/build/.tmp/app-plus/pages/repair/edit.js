(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repair/edit"],{"0613":function(e,t,n){"use strict";n.r(t);var o=n("ea18"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=a.a},"4f76":function(e,t,n){"use strict";n.r(t);var o=n("a8fa"),a=n("0613");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var s=n("2877"),c=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},"7c6a":function(e,t,n){"use strict";(function(e){n("15a3"),n("921b");o(n("66fd"));var t=o(n("4f76"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},a8fa:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=(e._self._c,this.getInto());e.$mp.data=Object.assign({},{$root:{g0:n}})},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},ea18:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return n.e("components/lanxiujuan-dyDateTime/lanxiujuan-dyDateTime").then(n.bind(null,"0914"))},i=function(){return n.e("components/mx-datepicker/mx-datepicker").then(n.bind(null,"0ce8"))},s=function(){return n.e("components/uni-collapse/uni-collapse").then(n.bind(null,"32fb"))},c=function(){return n.e("components/uni-collapse-item/uni-collapse-item").then(n.bind(null,"73a2"))},u=function(){return Promise.all([n.e("common/vendor"),n.e("components/xyz-choose-image/xyz-choose-image")]).then(n.bind(null,"12b7"))},r={components:{uniCollapse:s,uniCollapseItem:c,MxDatePicker:i,dyDatetimePicker:a,chooseImage:u},data:function(){return{childValue:(new Date).getTime(),placeholder:"请选择时间",defaultMinDate:new Date("2001/1/3").getTime(),defaultMaxDate:new Date("2050/12/31").getTime(),minTime:"10:00",maxTime:"23:59",defaultValue:0,isShowDefaultValue:!1,timeOptions:[],timeType:"anyTime",timeIntervalMsec:20,fixedTimeAarr:[],datetimeKey:(new Date).getTime(),region:"",tabActiveIdx:0,hasChooseImg:[],decr:"",time:"",src:"",code:"",name:"",address:""}},onLoad:function(){console.log(e(this.getName()," at pages\\repair\\edit.vue:100")),this.isApprove()&&(this.name=this.getName(),this.address=this.getAddress(),this.phone=this.getPhone(),console.log(e(this.phone," at pages\\repair\\edit.vue:106"))),o.getSystemInfo({success:function(t){console.log(e(t," at pages\\repair\\edit.vue:112"))}})},methods:{getData:function(e){this.time=e},submit:function(){if(this.decr)if(this.time){var t=0,n=this;o.request({url:"http://106.13.239.202/index.php?c=workorder&m=editrepair",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{time:n.time,describe:n.decr,phone:n.phone,door:n.address,name:n.name,community:n.getCommunity()},success:function(t){console.log(e(t," at pages\\repair\\edit.vue:153")),n.code=t.data.data,"ok"==t.data.status?o.showToast({title:"提交成功！"}):o.showToast({title:"提交失败！",icon:"none"})}});while(t<this.hasChooseImg.length)this.upImg(t),++t}else o.showToast({title:"请选择上门时间",icon:"none"});else o.showToast({title:"请输入报修描述",icon:"none"})},bindTextAreaBlur:function(e){this.decr=e.detail.value},upImg:function(t){var n=this;o.showLoading({title:"正在上传图片"});var a=this;console.log(e(a.hasChooseImg[0]," at pages\\repair\\edit.vue:187"));o.uploadFile({url:"http://106.13.239.202/index.php?c=uploadimg&m=index",filePath:a.hasChooseImg[t],name:"file",success:function(t){if(o.hideLoading(),t=JSON.parse(t.data),console.log(e(t.data," at pages\\repair\\edit.vue:196")),console.log(e(t," at pages\\repair\\edit.vue:197")),"ok"!=t.status)return o.showToast({title:"上传图片失败,请重试!",icon:"none"}),!1;console.log(e(t.data," at pages\\repair\\edit.vue:204")),n.upcode(t.data)},fail:function(e){o.showToast({title:"上传图片失败,请重试!",icon:"none"})}})},chooseImage:function(e){this.hasChooseImg=e},upcode:function(t){var n=this;o.request({url:"http://106.13.239.202/index.php?c=uploadimg&m=setImg",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:n.code,src:t},success:function(t){console.log(e(t," at pages\\repair\\edit.vue:234"))}})},savePhoto:function(e){},tabSelect:function(e){this.tabActiveIdx=e}},onReachBottom:function(){this.masonryList=this.masonryList.concat(this.masonryList)},openPicker:function(){this.lotusAddressData.visible=!0,this.lotusAddressData.provinceName="广东省"}};t.default=r}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["7c6a","common/runtime","common/vendor"]]]);