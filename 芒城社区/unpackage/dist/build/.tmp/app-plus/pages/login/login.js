(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"186e":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},c8dc:function(t,e,n){"use strict";n.r(e);var o=n("186e"),a=n("d89d");for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);n("d45d");var s=n("2877"),c=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,"eb8286e0",null);e["default"]=c.exports},cf06:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){return n.e("components/tki-tree/tki-tree").then(n.bind(null,"21ac"))},i={components:{tkiTree:a},data:function(){return{ph:"",pw:"",list:[],multiple:!1,selectParent:!1,address:"请选择社区"}},onLoad:function(){this.getCommunity()},methods:{getAdmin:function(){var e=this,n=this.getInto();t.request({url:"http://106.13.239.202/index.php?c=login&m=isAdmin",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{phone:e.ph,community:n},success:function(e){console.log(o(e.data.data," at pages\\login\\login.vue:70")),t.setStorage({key:"admin",data:e.data.data})}})},getCommunity:function(){var e=this;t.request({url:"http://106.13.239.202/index.php?c=community&m=getAll",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},data:{},success:function(t){console.log(o(t," at pages\\login\\login.vue:91")),e.list=t.data.data}})},getInformation:function(){var e=this.ph;console.log(o(e," at pages\\login\\login.vue:101")),t.request({url:"http://106.13.239.202/index.php?c=approve&m=find",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{phone:e},success:function(n){console.log(o(n," at pages\\login\\login.vue:112")),t.setStorage({key:"name",data:n.data.data.name}),t.setStorage({key:"id",data:n.data.data.id}),t.setStorage({key:"community",data:n.data.data.community}),t.request({url:"http://106.13.239.202/index.php?c=member&m=getAddress",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{phone:e},success:function(e){console.log(o(e," at pages\\login\\login.vue:136")),t.setStorage({key:"address",data:e.data.data.house_number}),console.log(o(e.data.data.house_number," at pages\\login\\login.vue:142"))}})}})},treeConfirm:function(e){this.address=e[0].name,console.log(o(e[0].name," at pages\\login\\login.vue:156")),t.setStorage({key:"into",data:e[0].name})},treeCancel:function(t){console.log(o(t," at pages\\login\\login.vue:166"))},showTree:function(){this.$refs.tkitree._show()},phone:function(t){this.ph=t.target.value},password:function(t){this.pw=t.target.value},LOGIN:function(){var e=this,n=this;"请选择社区"!=this.address?this.ph?this.pw?(t.showLoading({title:"登录中..."}),t.request({url:"http://106.13.239.202/index.php?c=login&m=login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{phone:n.ph,password:n.pw},success:function(a){t.hideLoading(),console.log(o(a," at pages\\login\\login.vue:205")),"ok"==a.data.status?(t.showToast({title:"登录成功！",icon:"success"}),t.setStorage({key:"code",data:a.data.data}),t.setStorage({key:"phone",data:n.ph}),setTimeout(function(){t.switchTab({url:"/pages/index/index"})},1e3),e.getInformation(),e.getAdmin()):t.showToast({title:"登录失败",icon:"none"})},fail:function(){t.showToast({title:"网络连接有问题，请重试...",icon:"none"})}})):t.showToast({title:"请输入密码",icon:"none"}):t.showToast({title:"请输入手机号",icon:"none"}):t.showToast({title:"请选择社区",icon:"none"})},gotoRegistration:function(){t.navigateTo({url:"/pages/login/registration"})},gotoForgetPassword:function(){t.showToast({title:"请联系物业中心管理员",icon:"none"})}}};e.default=i}).call(this,n("6e42")["default"],n("0de9")["default"])},cf44:function(t,e,n){"use strict";(function(t){n("15a3"),n("921b");o(n("66fd"));var e=o(n("c8dc"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},d45d:function(t,e,n){"use strict";var o=n("e6d2"),a=n.n(o);a.a},d89d:function(t,e,n){"use strict";n.r(e);var o=n("cf06"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=a.a},e6d2:function(t,e,n){}},[["cf44","common/runtime","common/vendor"]]]);